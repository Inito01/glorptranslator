"use strict";let diccionario={};function espanolAGlorp(e){return e.toLowerCase().split("").map(e=>diccionario[e]||e).join("")}function glorpAEspanol(e){let t=Object.fromEntries(Object.entries(diccionario).map(([e,t])=>[t,e]));return e.toLowerCase().split("").map(e=>t[e]||e).join("")}function manejarTraduccionEspanol(){let e=document.getElementById("spanish"),t=document.getElementById("glorp"),r=e.value,n=espanolAGlorp(r);t.value=n,e.value=""}function manejarTraduccionGlorp(){let e=document.getElementById("glorp-input"),t=document.getElementById("spanish-output"),r=e.value,n=glorpAEspanol(r);t.value=n,e.value=""}fetch("dictionary.json").then(e=>e.json()).then(e=>{diccionario=e}).catch(e=>console.error("Error al cargar el diccionario:",e)),document.getElementById("translate-es-glorp").addEventListener("click",manejarTraduccionEspanol),document.getElementById("translate-glorp-es").addEventListener("click",manejarTraduccionGlorp);class TextScramble{constructor(e){this.el=e,this.chars="!<>-_\\/[]{}—=+*^?#________",this.update=this.update.bind(this)}setText(e){let t=this.el.innerText,r=Math.max(t.length,e.length),n=new Promise(e=>this.resolve=e);this.queue=[];for(let a=0;a<r;a++){let s=t[a]||"",o=e[a]||"",l=Math.floor(40*Math.random()),i=l+Math.floor(40*Math.random());this.queue.push({from:s,to:o,start:l,end:i})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),n}update(){let e="",t=0;for(let r=0,n=this.queue.length;r<n;r++){let{from:a,to:s,start:o,end:l,char:i}=this.queue[r];this.frame>=l?(t++,e+=s):this.frame>=o?((!i||.28>Math.random())&&(i=this.randomChar(),this.queue[r].char=i),e+=`<span class="dud">${i}</span>`):e+=a}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}const phrases=["⎐⊸⌿ ⎐⍜⌿","⌇⍜⌰⍜ ⏁⍦⋏☌⍜ ⎍⋏⏃ ⋔⊸⌇⊸⍜⋏","◫⍦⌇⏁ও⎍⊸ও ⏃ ⏁⍜◫⍜⌇ ⌰⍜⌇ ⊑⎍⋔⏃⋏⍜⌇","⊬ ☊⍜⋏⍾⎍⊸⌇⏁⏃ও ⌰⏃ ⏁⊸⍦ওও⏃","⌿⍦ও⍜ ⌿ও⊸⋔⍦ও⍜","◫⍦⏚⍜ ⏃⌿ও⍦⋏◫⍦ও ⏃ ⊑⏃⏚⌰⏃ও","⌇⎍ ⊸◫⊸⍜⋔⏃",],el=document.querySelector(".s-scramble"),fx=new TextScramble(el);let counter=0;const next=()=>{fx.setText(phrases[counter]).then(()=>{setTimeout(next,1500)}),counter=(counter+1)%phrases.length};next();